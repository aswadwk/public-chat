import{r as l,j as n,q as _e,W as ee,Y as Me}from"./app-CWOQe9Ab.js";import{I as Oe}from"./input-CX-UC3t_.js";import{c as D,O as le,C as ae,a as Le,b as ke,T as ie,D as ce,R as Ie,P as We,u as $,d as ze,e as Ve,f as A,A as te,g as re,h as oe}from"./avatar-C9f4rZsb.js";import{c as C,B as E,t as He}from"./button-a3j8gQce.js";import Ue from"./FormNewChat-CTY0j_AY.js";import"./index-te1CiKam.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=D("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=D("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=D("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=D("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=D("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=D("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Ze=Ie,Ke=We,de=l.forwardRef(({className:e,...t},r)=>n.jsx(le,{ref:r,className:C("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));de.displayName=le.displayName;const ue=l.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Ke,{children:[n.jsx(de,{}),n.jsxs(ae,{ref:s,className:C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Le,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ke,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ue.displayName=ae.displayName;const fe=({className:e,...t})=>n.jsx("div",{className:C("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fe.displayName="DialogHeader";const he=l.forwardRef(({className:e,...t},r)=>n.jsx(ie,{ref:r,className:C("text-lg font-semibold leading-none tracking-tight",e),...t}));he.displayName=ie.displayName;const me=l.forwardRef(({className:e,...t},r)=>n.jsx(ce,{ref:r,className:C("text-sm text-muted-foreground",e),...t}));me.displayName=ce.displayName;function Je({title:e,description:t,children:r,onClose:s,isOpen:o,width:a}){return n.jsx(Ze,{open:o,onOpenChange:s,children:n.jsxs(ue,{className:C("w-full",a&&a),children:[n.jsxs(fe,{children:[n.jsx(he,{children:e||"Edit profile"}),n.jsx(me,{children:t})]}),r]})})}const Qe=({children:e})=>n.jsx("main",{children:n.jsx("div",{className:"pt-0 pb-4 pl-6 pr-8",children:e})});function ne(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pe(...e){return t=>{let r=!1;const s=e.map(o=>{const a=ne(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():ne(e[o],null)}}}}function _(...e){return l.useCallback(pe(...e),e)}var ve=l.forwardRef((e,t)=>{const{children:r,...s}=e,o=l.Children.toArray(r),a=o.find(tt);if(a){const i=a.props.children,c=o.map(d=>d===a?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:d);return n.jsx(q,{...s,ref:t,children:l.isValidElement(i)?l.cloneElement(i,void 0,c):null})}return n.jsx(q,{...s,ref:t,children:r})});ve.displayName="Slot";var q=l.forwardRef((e,t)=>{const{children:r,...s}=e;if(l.isValidElement(r)){const o=ot(r);return l.cloneElement(r,{...rt(s,r.props),ref:t?pe(t,o):o})}return l.Children.count(r)>1?l.Children.only(null):null});q.displayName="SlotClone";var et=({children:e})=>n.jsx(n.Fragment,{children:e});function tt(e){return l.isValidElement(e)&&e.type===et}function rt(e,t){const r={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...c)=>{a(...c),o(...c)}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function ot(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],z=nt.reduce((e,t)=>{const r=l.forwardRef((s,o)=>{const{asChild:a,...i}=s,c=a?ve:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function st(e,t){return l.useReducer((r,s)=>t[r][s]??r,e)}var V=e=>{const{present:t,children:r}=e,s=lt(t),o=typeof r=="function"?r({present:s.isPresent}):l.Children.only(r),a=_(s.ref,at(o));return typeof r=="function"||s.isPresent?l.cloneElement(o,{ref:a}):null};V.displayName="Presence";function lt(e){const[t,r]=l.useState(),s=l.useRef({}),o=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[c,d]=st(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=H(s.current);a.current=c==="mounted"?u:"none"},[c]),$(()=>{const u=s.current,f=o.current;if(f!==e){const h=a.current,v=H(u);e?d("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&h!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),$(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=v=>{const w=H(s.current).includes(v.animationName);if(v.target===t&&w&&(d("ANIMATION_END"),!o.current)){const M=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=M)})}},h=v=>{v.target===t&&(a.current=H(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{u&&(s.current=getComputedStyle(u)),r(u)},[])}}function H(e){return(e==null?void 0:e.animationName)||"none"}function at(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function it(e,[t,r]){return Math.min(r,Math.max(t,e))}function T(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ct(e,t){return l.useReducer((r,s)=>t[r][s]??r,e)}var Z="ScrollArea",[xe,Mt]=ze(Z),[dt,N]=xe(Z),ge=l.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:o,scrollHideDelay:a=600,...i}=e,[c,d]=l.useState(null),[u,f]=l.useState(null),[m,h]=l.useState(null),[v,g]=l.useState(null),[w,M]=l.useState(null),[R,O]=l.useState(0),[W,L]=l.useState(0),[k,p]=l.useState(!1),[S,b]=l.useState(!1),x=_(t,P=>d(P)),y=Ve(o);return n.jsx(dt,{scope:r,type:s,dir:y,scrollHideDelay:a,scrollArea:c,viewport:u,onViewportChange:f,content:m,onContentChange:h,scrollbarX:v,onScrollbarXChange:g,scrollbarXEnabled:k,onScrollbarXEnabledChange:p,scrollbarY:w,onScrollbarYChange:M,scrollbarYEnabled:S,onScrollbarYEnabledChange:b,onCornerWidthChange:O,onCornerHeightChange:L,children:n.jsx(z.div,{dir:y,...i,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":W+"px",...e.style}})})});ge.displayName=Z;var be="ScrollAreaViewport",we=l.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:o,...a}=e,i=N(be,r),c=l.useRef(null),d=_(t,c,i.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(z.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});we.displayName=be;var j="ScrollAreaScrollbar",K=l.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=N(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,c=e.orientation==="horizontal";return l.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),o.type==="hover"?n.jsx(ut,{...s,ref:t,forceMount:r}):o.type==="scroll"?n.jsx(ft,{...s,ref:t,forceMount:r}):o.type==="auto"?n.jsx(Se,{...s,ref:t,forceMount:r}):o.type==="always"?n.jsx(J,{...s,ref:t}):null});K.displayName=j;var ut=l.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=N(j,e.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),i(!0)},f=()=>{d=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),n.jsx(V,{present:r||a,children:n.jsx(Se,{"data-state":a?"visible":"hidden",...s,ref:t})})}),ft=l.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=N(j,e.__scopeScrollArea),a=e.orientation==="horizontal",i=X(()=>d("SCROLL_END"),100),[c,d]=ct("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,o.scrollHideDelay,d]),l.useEffect(()=>{const u=o.viewport,f=a?"scrollLeft":"scrollTop";if(u){let m=u[f];const h=()=>{const v=u[f];m!==v&&(d("SCROLL"),i()),m=v};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,a,d,i]),n.jsx(V,{present:r||c!=="hidden",children:n.jsx(J,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:T(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:T(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Se=l.forwardRef((e,t)=>{const r=N(j,e.__scopeScrollArea),{forceMount:s,...o}=e,[a,i]=l.useState(!1),c=e.orientation==="horizontal",d=X(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?u:f)}},10);return I(r.viewport,d),I(r.content,d),n.jsx(V,{present:s||a,children:n.jsx(J,{"data-state":a?"visible":"hidden",...o,ref:t})})}),J=l.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,o=N(j,e.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[c,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Re(c.viewport,c.content),f={...s,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,v){return gt(h,i.current,c,v)}return r==="horizontal"?n.jsx(ht,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollLeft,v=se(h,c,o.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=m(h,o.dir))}}):r==="vertical"?n.jsx(mt,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollTop,v=se(h,c);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=m(h))}}):null}),ht=l.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...o}=e,a=N(j,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=_(t,d,a.onScrollbarXChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Ce,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const h=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),Ee(h,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:F(i.paddingLeft),paddingEnd:F(i.paddingRight)}})}})}),mt=l.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...o}=e,a=N(j,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=_(t,d,a.onScrollbarYChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Ce,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const h=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),Ee(h,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:F(i.paddingTop),paddingEnd:F(i.paddingBottom)}})}})}),[pt,ye]=xe(j),Ce=l.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:m,...h}=e,v=N(j,r),[g,w]=l.useState(null),M=_(t,x=>w(x)),R=l.useRef(null),O=l.useRef(""),W=v.viewport,L=s.content-s.viewport,k=A(f),p=A(d),S=X(m,10);function b(x){if(R.current){const y=x.clientX-R.current.left,P=x.clientY-R.current.top;u({x:y,y:P})}}return l.useEffect(()=>{const x=y=>{const P=y.target;(g==null?void 0:g.contains(P))&&k(y,L)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[W,g,L,k]),l.useEffect(p,[s,p]),I(g,S),I(v.content,S),n.jsx(pt,{scope:r,scrollbar:g,hasThumb:o,onThumbChange:A(a),onThumbPointerUp:A(i),onThumbPositionChange:p,onThumbPointerDown:A(c),children:n.jsx(z.div,{...h,ref:M,style:{position:"absolute",...h.style},onPointerDown:T(e.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),R.current=g.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),b(x))}),onPointerMove:T(e.onPointerMove,b),onPointerUp:T(e.onPointerUp,x=>{const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=O.current,v.viewport&&(v.viewport.style.scrollBehavior=""),R.current=null})})})}),U="ScrollAreaThumb",Ne=l.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=ye(U,e.__scopeScrollArea);return n.jsx(V,{present:r||o.hasThumb,children:n.jsx(vt,{ref:t,...s})})}),vt=l.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...o}=e,a=N(U,r),i=ye(U,r),{onThumbPositionChange:c}=i,d=_(t,m=>i.onThumbChange(m)),u=l.useRef(void 0),f=X(()=>{u.current&&(u.current(),u.current=void 0)},100);return l.useEffect(()=>{const m=a.viewport;if(m){const h=()=>{if(f(),!u.current){const v=bt(m,c);u.current=v,c()}};return c(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[a.viewport,f,c]),n.jsx(z.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:T(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),g=m.clientX-v.left,w=m.clientY-v.top;i.onThumbPointerDown({x:g,y:w})}),onPointerUp:T(e.onPointerUp,i.onThumbPointerUp)})});Ne.displayName=U;var Q="ScrollAreaCorner",je=l.forwardRef((e,t)=>{const r=N(Q,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(xt,{...e,ref:t}):null});je.displayName=Q;var xt=l.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,o=N(Q,r),[a,i]=l.useState(0),[c,d]=l.useState(0),u=!!(a&&c);return I(o.scrollbarX,()=>{var m;const f=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(f),d(f)}),I(o.scrollbarY,()=>{var m;const f=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(f),i(f)}),u?n.jsx(z.div,{...s,ref:t,style:{width:a,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function F(e){return e?parseInt(e,10):0}function Re(e,t){const r=e/t;return isNaN(r)?0:r}function Y(e){const t=Re(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function gt(e,t,r,s="ltr"){const o=Y(r),a=o/2,i=t||a,c=o-i,d=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return Pe([d,u],m)(e)}function se(e,t,r="ltr"){const s=Y(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,c=a-s,d=r==="ltr"?[0,i]:[i*-1,0],u=it(e,d);return Pe([0,i],[0,c])(u)}function Pe(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Ee(e,t){return e>0&&e<t}var bt=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,c=r.top!==a.top;(i||c)&&t(),r=a,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function X(e,t){const r=A(e),s=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),l.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function I(e,t){const r=A(t);$(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,r])}var Ae=ge,wt=we,St=je;const G=l.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Ae,{ref:s,className:C("relative overflow-hidden",e),...r,children:[n.jsx(wt,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(Te,{}),n.jsx(St,{})]}));G.displayName=Ae.displayName;const Te=l.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(K,{ref:s,orientation:t,className:C("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(Ne,{className:"relative flex-1 rounded-full bg-border"})}));Te.displayName=K.displayName;const De=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("rounded-xl border bg-card text-card-foreground shadow",e),...t}));De.displayName="Card";const yt=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("flex flex-col space-y-1.5 p-6",e),...t}));yt.displayName="CardHeader";const Ct=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("font-semibold leading-none tracking-tight",e),...t}));Ct.displayName="CardTitle";const Nt=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("text-sm text-muted-foreground",e),...t}));Nt.displayName="CardDescription";const jt=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("p-6 pt-0",e),...t}));jt.displayName="CardContent";const Rt=l.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:C("flex items-center p-6 pt-0",e),...t}));Rt.displayName="CardFooter";const Ot=({messages:e,chats:t,chat:r,tableId:s})=>{const[o,a]=l.useState(r),[i,c]=l.useState([{id:"1",message:"Hello",sender:"Grace Miller",sender_id:"1",created_at:"2022-01-01 12:00:00",avatar:"/placeholder.svg"}]),[d,u]=l.useState([{id:1,name:"Grace Miller",lastMessage:"Hello",timestamp:"1:00 PM",avatar:"/placeholder.svg",online:!0,unread:2}]),[f,m]=l.useState([]),[h,v]=l.useState({newChat:!1}),g=l.useRef(null),{props:w}=_e(),{post:M,data:R,setData:O}=ee({message:"",receiver_id:""});ee({});const W=()=>{s&&(console.log("Connecting to websocket"),window.Echo.private("room.public").listen("MessageSend",p=>{console.log("Received message");const S={id:p.message.id,message:p.message.message,sender:e[0].sender,sender_id:p.message.sender_id,created_at:p.message.created_at,avatar:"/placeholder.svg"};c(b=>[...b,S])}).listenForWhisper("typing",p=>{u(S=>S.map(b=>b.id===p.chatId?{...b,isTyping:!0}:b)),setTimeout(()=>{u(S=>S.map(b=>b.id===p.chatId?{...b,isTyping:!1}:b))},3e3)}),window.Echo.join(`room.${s}`,{user:"admin"}).here(p=>{console.log("here",p),m(p)}).joining(p=>{console.log("joining",p),m(S=>[...S,p])}).leaving(p=>{console.log("leaving",p),m(S=>S.filter(b=>b.id!==p.id))}))},L=()=>{window.Echo.private(`room.${o.id}`).whisper("typing",{chatId:o.id})},k=()=>{g.current.scrollIntoView(!1,{behavior:"smooth"})};return l.useEffect(()=>(W(),()=>{window.Echo.leave("room.public")}),[]),l.useEffect(()=>{g.current&&g.current.scrollIntoView(!1,{behavior:"smooth"})},[i]),l.useEffect(()=>{console.log("Online users"),console.log(f)},[f]),n.jsxs(n.Fragment,{children:[n.jsx(Me,{title:"Chat"}),n.jsx(Je,{isOpen:h.newChat,onClose:()=>v({...h,newChat:!1}),title:"New Chat",width:"w-full sm:w-[600px] sm:max-w-[840px]",children:n.jsx(Ue,{onSubmit:p=>{}})}),n.jsx(Qe,{children:n.jsx("div",{className:"overflow-y-hidden",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-4/12 border-r",children:n.jsx(G,{className:"h-[calc(100vh-11rem)]",children:n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-2"})})})}),n.jsxs("div",{className:"relative flex flex-col justify-between w-full",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsxs(te,{children:[n.jsx(re,{alt:"Grace Miller",src:"/placeholder.svg"}),n.jsx(oe,{children:"GM"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-semibold",children:o==null?void 0:o.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"icon",variant:"ghost",children:n.jsx(Be,{className:"w-4 h-4"})}),n.jsx(E,{size:"icon",variant:"ghost",children:n.jsx(Ge,{className:"w-4 h-4"})}),n.jsx(E,{size:"icon",variant:"ghost",children:n.jsx(Fe,{className:"w-4 h-4"})})]})]}),n.jsx(G,{className:"flex-1 p-4 h-[73vh] max-h-[73vh]",children:n.jsxs("div",{className:"mb-6 space-y-4",children:[i==null?void 0:i.map(p=>{var S,b,x,y,P,B;return n.jsxs("div",{className:`flex items-start gap-4 ${p.sender_id===((b=(S=w==null?void 0:w.auth)==null?void 0:S.user)==null?void 0:b.id)?"flex-row-reverse":""}`,children:[n.jsxs(te,{children:[n.jsx(re,{alt:p.sender,src:p.avatar}),n.jsx(oe,{children:"AS"})]}),n.jsxs("div",{className:`flex flex-col gap-1 ${p.sender_id===((y=(x=w==null?void 0:w.auth)==null?void 0:x.user)==null?void 0:y.id)?"items-end":""}`,children:[n.jsx(De,{className:`px-4 py-2 max-w-md ${p.sender_id===((B=(P=w==null?void 0:w.auth)==null?void 0:P.user)==null?void 0:B.id)?"bg-blue-500 text-white":"bg-muted"}`,children:p.message}),n.jsx("span",{className:"text-xs text-muted-foreground",children:He(p.created_at)})]})]},p.id)}),n.jsx("div",{ref:g})]})})]}),n.jsx("div",{className:"absolute bottom-0 z-10 w-full p-4 border-t bg-background",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"icon",variant:"ghost",children:n.jsx(qe,{className:"w-4 h-4"})}),n.jsx(E,{size:"icon",variant:"ghost",onClick:k,children:n.jsx(Ye,{className:"w-4 h-4"})}),n.jsxs("form",{action:"",className:"flex w-full",onSubmit:p=>{},children:[n.jsx(Oe,{className:"flex-1",placeholder:"Type message...",type:"text",value:R.message,onChange:p=>O("message",p.target.value),onKeyDown:L}),n.jsx(E,{size:"icon",variant:"ghost",children:n.jsx(Xe,{className:"w-4 h-4"})}),n.jsx(E,{type:"submit",children:n.jsx($e,{className:"w-4 h-4"})})]})]})})]})]})})})]})};export{Ot as default};
